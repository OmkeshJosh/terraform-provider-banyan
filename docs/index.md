---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "banyan Provider"
subcategory: ""
description: |-
  
---

# Banyan Terraform Provider
### Currently in Beta

Banyan replaces your traditional network access boxes – VPNs, bastion hosts, and gateways – with a cloud-based zero trust access solution.

The Banyan Terraform provider is used for lifecycle management of Banyan resources including roles, policies, and services. Learn more about Banyan [here.](https://www.banyansecurity.io/)

Use the navigation to the left to read about the available resources.

To learn the basics of the Banyan components, check out the documentation [here.](https://docs.banyanops.com/)

### Known Issues
* Required fields for resources may not match the UI exactly
* Some fields missing descriptions
* Some examples missing
* Some defaults for fields have not yet been implemented

### Security Best Practices
Ensure to create a Banyan API token exclusive to Terraform. This will ensure that all actions taken by Terraform automation will appear in the console logs with the API key as the actor.

For production use cases, ensure that the API token is stored in an environment variable and inject it into Terraform as such:
```hcl
provider "banyan" {
  api_token = "banyan-api-token-here-exclusive-to-terraform"
  host = "https://preview.console.banyanops.com/"
}
```

### Note About Preview Organizations
Ensure that the `host` parameter is set to the correct host: 
```hcl
provider "banyan" {
  api_token = "banyan-api-token-here-exclusive-to-terraform"
  host = "https://preview.console.banyanops.com/"
}
```

## Example Provider Configuration
```hcl
terraform {
  required_providers {
    banyan = {
      source = "banyansecurity/banyan"
      version = "0.4.6"
    }
  }
}

provider "banyan" {
  api_token = "banyan-api-token-here-exclusive-to-terraform"
  host = "https://preview.console.banyanops.com/"
}
```

## Example Configured Provider with Service, Role, Policy, and Policy Attachment
```hcl
terraform {
  required_providers {
    banyan = {
      source = "banyansecurity/banyan"
      version = "0.4.6"
    }
  }
}

provider "banyan" {
  api_token = "banyan-api-token-here-exclusive-to-terraform"
  host = "https://preview.console.banyanops.com/"
}

resource "banyan_service" "admin-console" {
  name        = "admin-console"
  description = "Super sensitive administrator console"
  cluster     = "us-west"
  site_name   = "us-west1"
  frontend {
    port = 443
  }
  backend {
    target {
      name = "admin-console.internal"
      port = 8443
      tls  = false
      tls_insecure = false
    }
  }
  cert_settings {
    dns_names = ["admin-console.corp.com"]
  }
  metadatatags {
    template            = "WEB_USER"
    user_facing         = true
    protocol            = "https"
    domain              = "admin-console.corp.com"
    port                = 443
    service_app_type    = "WEB"
  }
}

resource "banyan_policy" "admin-web-high" {
  name        = "web-policy"
  description = "Allows web access to admins with a high trust level"
  access {
    roles       = [banyan_role.admin.name]
    trust_level = "High"
    l7_access {
      resources = ["*"]
      actions   = ["*"]
    }
  }
  l7_protocol                       = "http"
  disable_tls_client_authentication = true
}

resource "banyan_role" "admin" {
  name              = "admin"
  description       = "Strict role for Admin access"
  user_group        = ["admin"]
  device_ownership  = ["Corporate Dedicated"]
  known_device_only = true
  mdm_present       = true
  platform          = ["Windows", "macOS", "Linux"]
}

resource "banyan_policy_attachment" "example-high-trust-any" {
  policy_id        = banyan_policy.admin-web-high.id
  attached_to_type = "service"
  attached_to_id   = banyan_service.admin-console.id
  is_enforcing     = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **api_token** (String) The Banyan Terraform Provider requires an API token

### Optional

- **host** (String) The host parameter is used to point the Banyan Terraform Provider to a non-default url
