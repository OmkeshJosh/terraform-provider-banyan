# banyan_policy

Banyan policies control access to a service. For more information on Banyan policies, see the [documentation.](https://docs.banyanops.com/docs/feature-guides/administer-security-policies/policies/manage-policies/)=

### Example
```hcl
resource "banyan_policy" "example" {
	name        = "web-policy"
	description = "some web policy description"
	access {
		roles       = ["Everyone"]
		trust_level = "High"
		l7_access {
			resources = ["*"]
			actions   = ["*"]
		}
	}
	l7_protocol                       = "http"
	disable_tls_client_authentication = true
}
```

<!-- schema generated by tfplugindocs -->
## Web Policy Schema
### Required
- **name** (String) Name of the policy
- **description** (String) Description of the policy
- **access** (Block List, Min: 1) Access describes the access rights for a set of roles (see [below for nested schema](#nestedblock--access))
- **l7_protocol** (String) L7Protocol specifies the application-level protocol: "http", "kafka", or empty string.
  If L7Protocol is not empty, then all Access rules must have L7Access entries.
- **disable_tls_client_authentication** (Boolean) (**set to true**) Prevents the service from asking for a client TLS cert

### Read-Only

- **id** (String) ID of the policy in Banyan



<a id="infrastructure-policy"></a>
# Infrastructure Policy
### Example
```hcl
resource "banyan_policy" "infrastructure-policy" {
	name        = "infrastructure-policy"
	description = "some infrastructure policy description"
	access {
		roles       = ["Everyone"]
		trust_level = "High"
	}
	disable_tls_client_authentication = false
}
```

<!-- schema generated by tfplugindocs -->
## Infrastructure Policy Schema
### Required
- **name** (String) Name of the policy
- **description** (String) Description of the policy
- **access** (Block List, Min: 1) Access describes the access rights for a set of roles (see [below for nested schema](#nestedblock--access))
- **disable_tls_client_authentication** (Boolean) (**set to false**) Prevents the service from asking for a client TLS cert

### Read-Only

- **id** (String) ID of the policy in Banyan

<a id="nestedblock--access"></a>
### Nested Schema for `access`

Required:

- **roles** (Set of String) Roles that all have the access rights given by rules
- **trust_level** (String) The trust level of the end user device, must be one of: "High", "Medium", "Low"

Optional:

- **l7_access** (Block List) (currently only used for web policies) Specifies a set of access rights to application level (OSI Layer-7) resources. (see [below for nested schema](#nestedblock--access--l7_access))

<a id="nestedblock--access--l7_access"></a>
### Nested Schema for `access.l7_access`
(currently only used for web policies)

Required:

- **actions** (Set of String) Actions are a list of application-level actions: "READ", "WRITE", "CREATE", "UPDATE", "*"
- **resources** (Set of String) Resources are a list of application level resources.
														Each resource can have wildcard prefix or suffix, or both.
														A resource can be prefixed with "!", meaning DENY.
														Any DENY rule overrides any other rule that would allow the access.


  

